<!DOCTYPE html>
<html type="module">
<head>
  <title>Admin Panel - Live Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f2f2f2; }
    h1 { color: #333; }
    button {
      padding: 10px 20px;
      margin: 10px 10px 0 0;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }
    .upload-btn { background-color: #3498db; color: white; }
    .start-btn { background-color: #2ecc71; color: white; }
    .end-btn { background-color: #f39c12; color: white; }
    .reset-btn { background-color: #e74c3c; color: white; }
    .question-item { margin: 5px 0; font-size: 14px; }
  </style>
</head>
<body>
  <h1>📋 Admin Panel - Live Quiz</h1>

  <button class="upload-btn" onclick="uploadQuestions()">📤 Upload Questions</button>
  <button class="start-btn" onclick="startQuiz()">🚀 Start Quiz</button>
  <button class="end-btn" onclick="endQuiz()">⏹️ End Quiz</button>
  <button class="reset-btn" onclick="resetQuiz()">🧹 Reset Quiz</button>

  <h3>Uploaded Questions:</h3>
  <div id="questionsList"></div>
  <p id="status"></p>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getDatabase,
      ref,
      set,
      remove
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD3HN5SCXq0dQ94wP73PHTJdwjNVAJOJm8",
      authDomain: "livequizapp-5e433.firebaseapp.com",
      databaseURL: "https://livequizapp-5e433-default-rtdb.firebaseio.com",
      projectId: "livequizapp-5e433",
      storageBucket: "livequizapp-5e433.firebasestorage.app",
      messagingSenderId: "393541118458",
      appId: "1:393541118458:web:76620000b8f08e87561c43"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const questions = [
  {
    question: "R.B.I ର ଗଭର୍ନର କିଏ?",
    options: {
      A: "ଶକ୍ତିକାନ୍ତ ଦାସ",
      B: "ଅମିତ ଶାହ",
      C: "ଅରୁଣ ଜେଟ୍ଲୀ",
      D: "ନରେନ୍ଦ୍ର ମୋଦି"
    },
    correct: "A"
  },
  {
    question: "ରାମାୟଣ କିଏ ଲେଖିଥିଲେ?",
    options: {
      A: "ବ୍ୟାସଦେବ",
      B: "ବାଲ୍ମୀକି",
      C: "ତୁଳସୀଦାସ",
      D: "କାଳିଦାସ"
    },
    correct: "B"
  },
  {
    question: "କେଉଁ ଗ୍ରହକୁ \"ଲାଲ ଗ୍ରହ\" ବୋଲି ଜଣାଯାଏ?",
    options: {
      A: "ଶୁକ୍ର",
      B: "ମଙ୍ଗଳ",
      C: "ବୃହସ୍ପତି",
      D: "ଶନି"
    },
    correct: "B"
  },
  {
    question: "କେଉଁ ଦେଶରେ ସୁନାର ମୂଲ୍ୟ ସବୁଠାରୁ କମ?",
    options: {
      A: "ଭାରତ",
      B: "ଦୁବାଇ",
      C: "ଚୀନ",
      D: "ଅମେରିକା"
    },
    correct: "B"
  },
  {
    question: "କେଉଁ ଜୀବଟି ଠିଆ ହୋଇ ଶୋଇଥାଏ?",
    options: {
      A: "ଘୋଡ଼ା",
      B: "ବାଘ",
      C: "କୁକୁର",
      D: "ହାତୀ"
    },
    correct: "A"
  },
  {
    question: "ଭାରତର ଦ୍ଵିତୀୟ ପ୍ରଧାନମନ୍ତ୍ରୀ କିଏ ଥିଲେ?",
    options: {
      A: "ମହାତ୍ମା ଗାନ୍ଧୀ",
      B: "ସରଦାର ପଟେଲ",
      C: "ଲାଲ ବହାଦୁର ଶାସ୍ତ୍ରୀ",
      D: "ଜବାହରଲାଲ ନେହେରୁ"
    },
    correct: "D"
  },
  {
    question: "H₂O କୁ ସାଧାରଣତଃ କଣ ବୋଲାଯାଏ?",
    options: {
      A: "ହାଇଡ୍ରୋଜେନ",
      B: "ଲୁଣ",
      C: "ପାଣି",
      D: "ଅକ୍ସିଜେନ"
    },
    correct: "C"
  },
  {
    question: "କାହାକୁ ଭାରତର Metro Man କୁହାଯାଏ?",
    options: {
      A: "ଧୀରୁଭାଇ ଆମ୍ବାନୀ",
      B: "ଈ.ଶ୍ରୀଧରନ୍",
      C: "ନିତିନ ଗଡକରି",
      D: "ଅନିଲ କପୂର"
    },
    correct: "B"
  },
  {
    question: "ଗୋଟଏ Leap ବର୍ଷରେ କେତେ ଦିନ ଥାଏ?",
    options: {
      A: "365",
      B: "366",
      C: "364",
      D: "367"
    },
    correct: "B"
  },
  {
    question: "ବିଶ୍ୱର ସବୁଠୁ ବଡ଼ ମହାଦେଶ କେଉଁଟି?",
    options: {
      A: "ଆଫ୍ରିକା",
      B: "ଏସିଆ",
      C: "ୟୁରୋପ୍",
      D: "ଅଷ୍ଟ୍ରେଲିଆ"
    },
    correct: "B"
  },
  {
    question: "ପାଣିର ବାଷ୍ପିକରଣ ତାପମାତ୍ରା କେତେ?",
    options: {
      A: "0°C",
      B: "100°C",
      C: "50°C",
      D: "200°C"
    },
    correct: "B"
  },
  {
    question: "ବିଦ୍ୟୁତ ଆଲୋକ ବତୀ କିଏ ଆବିଷ୍କାର କରିଥିଲେ?",
    options: {
      A: "ଏଡିସନ୍",
      B: "ନ୍ୟୁଟନ୍",
      C: "ଆଇନଷ୍ଟାଇନ୍",
      D: "ଟେସ୍ଲା"
    },
    correct: "A"
  },
  {
    question: "ବିଶ୍ୱର ସବୁଠୁ ବଡ଼ ସାଗର କେଉଁଟି?",
    options: {
      A: "ଭାରତ ମହାସାଗର",
      B: "ପ୍ୟାସିଫିକ୍",
      C: "ଆଟଲାଣ୍ଟିକ୍",
      D: "ଆର୍କଟିକ୍"
    },
    correct: "B"
  },
  {
    question: "କ୍ଲୋରୋଫିଲ୍‌ର ରଙ୍ଗ କଣ?",
    options: {
      A: "ଲାଲ",
      B: "ସବୁଜ",
      C: "ନୀଳ",
      D: "ହଳଦିଆ"
    },
    correct: "B"
  },
  {
    question: "କେଉଁ ଅଙ୍ଗଟି ରକ୍ତ ସଂଚାଳନରେ ପ୍ରମୁଖ ଭୂମିକା ଗ୍ରହଣ କରେ?",
    options: {
      A: "ଯକୃତ",
      B: "ମସ୍ତିଷ୍କ",
      C: "ହୃଦୟ",
      D: "ଫୁସଫୁସ"
    },
    correct: "C"
  },
  {
    question: "ମାଧ୍ୟାକର୍ଷଣ କିଏ ଆବିଷ୍କାର କରିଥିଲେ?",
    options: {
      A: "ଆଇନଷ୍ଟାଇନ୍",
      B: "ଏଡିସନ୍",
      C: "ନ୍ୟୁଟନ୍",
      D: "ମାଡାମ କ୍ୟୁରୀ"
    },
    correct: "C"
  },
  {
    question: "ସବୁଠୁ ଛୋଟ ଗ୍ରହ କେଉଁଟି?",
    options: {
      A: "ବୁଧ",
      B: "ମଙ୍ଗଳ",
      C: "ପ୍ଲୁଟୋ",
      D: "ପୃଥିବୀ"
    },
    correct: "A"
  },
  {
    question: "\"ଆଲୋକର ପର୍ବ\" ବୋଲି କେଉଁ ପର୍ବକୁ କୁହାଯାଏ?",
    options: {
      A: "ହୋଳି",
      B: "ଦିପାବଳି",
      C: "ଇଦ୍",
      D: "ବଡ଼ଦିନ"
    },
    correct: "B"
  },
  {
    question: "ଭାରତର ମୁଦ୍ରା କଣ?",
    options: {
      A: "ଡଲାର",
      B: "ୟୁରୋ",
      C: "ଟଙ୍କା",
      D: "ୟେନ୍"
    },
    correct: "C"
  },
  {
    question: "ଦୃଷ୍ଟି ପାଇଁ କେଉଁ ଇନ୍ଦ୍ରିୟ ସହାୟକ ହୁଏ?",
    options: {
      A: "ନାକ",
      B: "ତ୍ୱଚା",
      C: "ଚକ୍ଷୁ",
      D: "କାନ"
    },
    correct: "C"
  }
];


    window.uploadQuestions = () => {
      set(ref(db, "quiz/questions"), questions);
      document.getElementById("questionsList").innerHTML = questions
        .map((q, i) => `<div class="question-item"><strong>Q${i + 1}:</strong> ${q.question}</div>`)
        .join('');
      alert("✅ Questions uploaded to Firebase");
    };

    window.startQuiz = () => {
      set(ref(db, "quiz/started"), true);
      set(ref(db, "quiz/ended"), false);
      document.getElementById("status").innerText = "✅ Quiz has started. Users can now take the quiz.";
    };

    window.endQuiz = () => {
      set(ref(db, "quiz/ended"), true);
      document.getElementById("status").innerText = "⏹️ Quiz has ended. Users can no longer submit.";
      alert("Quiz ended manually.");
    };

    window.resetQuiz = () => {
      const pathsToClear = [
        "scores",
        "answers",
        "quiz/started",
        "quiz/ended"
      ];
      pathsToClear.forEach(path => {
        remove(ref(db, path));
      });

      document.getElementById("status").innerText = "🧹 Quiz reset. Ready for new session.";
      alert("✅ All quiz data cleared.");
    };
  </script>
</body>
</html>
